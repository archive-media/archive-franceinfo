"use strict";(self.webpackChunkfranceinfo_package=self.webpackChunkfranceinfo_package||[]).push([[7809],{6131:function(e,t,n){function i(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r{constructor(e,t){this.auth=e,this.piano=t,i(this,"el",void 0),i(this,"signInBtn",void 0),i(this,"logInBtn",void 0),this.el=document.querySelector(".comment-connect"),this.el&&this.init()}init(){this.signInBtn=document.querySelector(".comment-connect__subscribeBtn"),this.logInBtn=document.querySelector(".comment-connect__loginBtn"),this.auth.getCachedIsUserLogged()&&(this.el.style.display="none"),this.addEvents()}addEvents(){var e,t;null===(e=this.signInBtn)||void 0===e||e.addEventListener("click",()=>{this.piano.sendClick({feature:"drawer_commentaire",click:"creer_votre_compte"}),this.addUrlParamToOpenDrawer(),this.auth.subscribe()}),null===(t=this.logInBtn)||void 0===t||t.addEventListener("click",()=>{this.piano.sendClick({feature:"drawer_commentaire",click:"se_connecter"}),this.addUrlParamToOpenDrawer(),this.auth.login()})}addUrlParamToOpenDrawer(){const e=new URL(window.location.href);e.searchParams.set("drawer","true");const t=e.origin+e.pathname+(e.search?e.search:"")+(window.location.hash||"");window.history.replaceState({},"",t)}}new Promise(e=>{Promise.all([n.e(4895).then(n.bind(n,4284)),n.e(9292).then(n.bind(n,3703))]).then(async([t,n])=>{const i=await t.default,a=await n.default,o=new r(i,a);e(o)})})}},function(e){e(e.s=6131)}]);