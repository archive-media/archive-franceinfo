"use strict";(self.webpackChunkfranceinfo_package=self.webpackChunkfranceinfo_package||[]).push([[5339],{9389:function(t,i,e){function n(t,i,e){return(i=function(t){var i=function(t){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var e=i.call(t,"string");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof i?i:i+""}(i))in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}class s{constructor(t,i){this.utils=t,this.inputField=i,n(this,"FILLED_CLASS","input-field--filled"),n(this,"ABOVE_CLASS","input-field--above"),n(this,"ERROR_CLASS","input-field--error"),n(this,"HELPER_TEXT_CLASS","input-field__helper-text"),n(this,"input",void 0),this.input=i.querySelector(".input-field__input"),this.init(),"email"===i.dataset.type?this.initEmailControls():this.initBaseControls()}init(){this.utils.onReadyStateChange("complete",()=>{setTimeout(()=>{""!==this.input.value&&this.addAnimation()},100)}),this.input.addEventListener("input",()=>{this.addAnimation()}),this.input.addEventListener("focusin",()=>{this.addAnimation()}),this.input.addEventListener("focusout",()=>{""===this.input.value&&this.removeAnimation()}),this.input.addEventListener("input-error",t=>{t.detail&&this.setError(t.detail)})}initEmailControls(){var t;this.input.addEventListener("input",()=>{(this.input.value.length<=0||this.utils.isValidEmail(this.input.value))&&this.removeError()}),this.input.addEventListener("focusout",()=>{this.validatedEmailInput()}),null===(t=this.input.form)||void 0===t||t.addEventListener("submit",()=>{this.validatedEmailInput()})}initBaseControls(){var t;"required"===this.input.getAttribute("required")&&(this.input.addEventListener("focusout",()=>{this.validatedRequiredInput()}),null===(t=this.input.form)||void 0===t||t.addEventListener("submit",()=>{this.validatedRequiredInput()}))}addAnimation(){this.inputField.classList.add(this.FILLED_CLASS),this.inputField.classList.add(this.ABOVE_CLASS)}removeAnimation(){this.inputField.classList.remove(this.FILLED_CLASS),this.inputField.classList.remove(this.ABOVE_CLASS)}removeError(){this.input.setCustomValidity(""),this.inputField.classList.remove(this.ERROR_CLASS),this.inputField.querySelector(`.${this.HELPER_TEXT_CLASS}`).remove()}setError(t){this.input.setCustomValidity(t),this.inputField.classList.add(this.ERROR_CLASS);const i=this.inputField.querySelector(`.${this.HELPER_TEXT_CLASS}`)||document.createElement("p");i.id=this.input.getAttribute("aria-describedby")||"",i.classList.add("input-field__helper-text"),i.innerText=t,i.parentNode||this.inputField.appendChild(i)}validatedRequiredInput(){this.input.value.length<=0?this.setError("Champ obligatoire."):this.removeError()}validatedEmailInput(){this.input.value.length<=0?this.setError("Adresse e-mail obligatoire."):this.input.value.length>0&&!this.utils.isValidEmail(this.input.value)?this.setError("Veuillez saisir une adresse e-mail valide.\nPar exemple prenom.nom@email.fr"):this.removeError()}}new Promise(t=>{e.e(9980).then(e.bind(e,5321)).then(i=>{const e=(t=document)=>{const e=t.querySelectorAll(".input-field:not(.input-field--activated)"),n=[];for(const t of e)t.classList.add("input-field--activated"),n.push(new s(i,t));return n};document.addEventListener("EsiBlock::replaceBlockByEsiContent",t=>{const i=t.detail.newElements;for(const t of i)e(t)}),t(e())})})}},function(t){t(t.s=9389)}]);