"use strict";(self.webpackChunkfranceinfo_package=self.webpackChunkfranceinfo_package||[]).push([[7552],{3500:function(t,e,n){class a{constructor(t,e,n,a){this.navigationLogic=t,this.utils=e,this.cmp=n,this.config=a,this.updateBody(),this.saveNavigationWithConsent(),this.initMaxwell()}async updateBody(){const t=document.querySelector(".c-body");t&&(queueMicrotask(()=>{this.updateCitations(t)}),queueMicrotask(()=>{this.updateLinks(t)}),queueMicrotask(()=>{this.updateBolds(t)}))}updateCitations(t){t.querySelectorAll(".ftvi_citation_author, .ftvi_citation_source").forEach(t=>{0===t.textContent.length&&t.remove()}),t.querySelectorAll(".ftvi_citation_source").forEach(t=>{const e=t.parentElement;if("DIV"===e.tagName){const n=document.createElement("div");n.append(t),e.after(n)}})}updateLinks(t){const e=window.location.host;Array.from(t.querySelectorAll("a")).filter(t=>{const n=t;if(n.href.startsWith("#"))return!1;const a=n.getAttribute("target");return new URL(n.href).host!==e&&(!a||"_self"===a)||"_blank"===a}).forEach(t=>this.a11ySetAsExternalLink(t))}updateBolds(t){t.querySelectorAll("b").forEach(t=>this.utils.replaceTagname(t,"strong"))}a11ySetAsExternalLink(t){t.setAttribute("target","_blank"),t.setAttribute("rel","noopener");const e=document.createElement("span");e.classList.add("sr-only"),e.textContent="(Nouvelle fenÃªtre)",t.appendChild(e)}saveNavigationWithConsent(){var t=this;queueMicrotask(async function(){await t.cmp.getConsentFromPurposeString("choix_personnalisation")?t.navigationLogic.saveNavigation():t.navigationLogic.cleanNavigationStorage()})}async initMaxwell(){if(!await this.cmp.getConsentFromPurposeString("choix_personnalisation"))return;const t=await this.config.getConfig();if(!t.maxwell.enabled)return;const e=(await n.e(8799).then(n.bind(n,2840))).default;e.initialize({offer:"info",product:"ftvi",config:{baseUrl:t.maxwell.baseUrl,uniqueUuidTtl:t.maxwell.uniqueUuidTtl}});const a=document.location.pathname.replaceAll("-","_").replace(/^.*\//,"").replace(".html","");e.pageView({name:a,options:{pageType:"contenu",contentId:String(this.utils.getContentId())}})}}new Promise(async t=>{const e=await(await n.e(1477).then(n.bind(n,8166))).default,i=await n.e(9980).then(n.bind(n,5321)),o=await(await n.e(6247).then(n.bind(n,4416))).default,s=await(await n.e(3355).then(n.bind(n,6672))).default;t(new a(e,i,o,s))})}},function(t){t(t.s=3500)}]);