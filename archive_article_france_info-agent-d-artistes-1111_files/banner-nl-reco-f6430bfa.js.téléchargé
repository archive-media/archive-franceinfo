"use strict";(self.webpackChunkfranceinfo_package=self.webpackChunkfranceinfo_package||[]).push([[8246],{4550:function(e,t,n){function i(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r{constructor(e,t){this.newsletterScore=e,this.esiBlock=t,i(this,"bannerNlElement",document.querySelector(".content-banner-nl")),i(this,"esiBlockElement",this.bannerNlElement.querySelector(".content-banner-nl__esi-block")),this.init()}async init(){let e=this.bannerNlElement.dataset.defaultNl;const t=await this.newsletterScore.calculate(),n=Object.entries(t);if(n.length>0){const t=n.reduce((e,t)=>t[1]>e[1]?t:e)[0];e=JSON.stringify({type:t})}this.loadEsiBannerNl(e)}loadEsiBannerNl(e){this.esiBlockElement.classList.add("esi-block"),this.esiBlockElement.setAttribute("data-autoload","true"),this.esiBlockElement.setAttribute("data-esi-url",`/esi-block/newsletters::newsletterBanners/index/${e}.html`),this.esiBlock.replaceBlock(this.esiBlockElement)}}new Promise(async e=>{const t=await(await n.e(7018).then(n.bind(n,5833))).default,i=await(await n.e(526).then(n.bind(n,526))).default;e(new r(t,i))})}},function(e){e(e.s=4550)}]);